# üß† PROMPT MAESTRO: DESARROLLO COMPLETO DE SISTEMA DE RESTAURANTE (LARAVEL + FILAMENT + LIVEWIRE + MYSQL 8)

---

## üéØ OBJETIVO GENERAL

Quiero que me gu√≠es **paso a paso desde cero** para construir un **sistema de restaurante profesional**, con backend en **Laravel 11**, panel administrativo con **Filament**, interfaz din√°mica con **Livewire**, y base de datos en **MySQL 8**.

El sistema debe ser **modular, escalable y mantenible**, cumpliendo las siguientes funciones:

---

## üçΩÔ∏è FUNCIONALIDADES DEL SISTEMA

1. **Mapa visual de mesas (front de meseras):**
   - Mostrar todas las mesas del restaurante en una vista tipo ‚Äúmapa‚Äù.
   - Cada mesa tiene posici√≥n X/Y, estado (libre, ocupada, en atenci√≥n, cerrada).
   - Permitir clic en una mesa para:
     - Crear un nuevo pedido.
     - Consultar pedidos activos.
     - Mover un pedido a otra mesa.
     - Cerrar o cobrar un pedido.
   - Colores por estado:
     - üü© Libre
     - üü® En atenci√≥n
     - üü• Ocupada

2. **M√≥dulo de pedidos:**
   - Crear pedidos asociados a una mesa y una mesera.
   - A√±adir platos al pedido, con cantidad y precio.
   - Calcular totales autom√°ticamente.
   - Permitir pausar pedido y retomarlo luego.
   - Cerrar pedido ‚Üí generar pago ‚Üí descontar ingredientes.
   - Registrar pagos (efectivo, tarjeta, transferencia).

3. **M√≥dulo de platos (men√∫):**
   - CRUD de platos con categor√≠a, imagen, descripci√≥n y precio.
   - Cada plato tiene una receta (ingredientes + cantidades + costo).
   - Mostrar platos en la landing page p√∫blica.

4. **M√≥dulo de recetas (manufactura):**
   - Relacionar cada plato con los ingredientes necesarios.
   - Guardar cantidad, unidad de medida y costo.
   - Calcular autom√°ticamente el costo de producci√≥n del plato.

5. **M√≥dulo de bodega (inventario):**
   - CRUD de ingredientes o materias primas.
   - Control de stock actual, stock m√≠nimo, unidad y costo unitario.
   - Registrar movimientos (entradas, salidas, ajustes).
   - **Debe generar autom√°ticamente alertas** cuando:
     - El stock actual ‚â§ stock m√≠nimo.
     - Un ingrediente se agote.
   - Al vender un plato, se descuentan los ingredientes usados.
   - Las alertas deben mostrarse en:
     - Panel administrativo (notificaci√≥n visual).
     - Posibilidad de enviarlas por correo o Telegram (a elecci√≥n futura).

6. **M√≥dulo de usuarios y roles:**
   - Roles: `admin`, `mesera`, `cocina`.
   - Admin ‚Üí control total.
   - Mesera ‚Üí acceso a pedidos y mapa de mesas.
   - Cocina ‚Üí ver pedidos pendientes y control de recetas.
   - Implementar autenticaci√≥n con Laravel Breeze o Jetstream.
   - Gesti√≥n de roles con Spatie Permissions o Policies.

7. **Panel administrativo (Filament):**
   - Interfaz moderna para administrar:
     - Platos y categor√≠as.
     - Ingredientes.
     - Recetas.
     - Inventario.
     - Usuarios.
     - Mesas.
     - Reportes.
   - Incluir dashboards con gr√°ficos:
     - Ventas por d√≠a/mes.
     - Consumo de ingredientes.
     - Alertas de inventario bajo.

8. **Landing Page p√∫blica:**
   - P√°gina principal con:
     - Presentaci√≥n del restaurante.
     - Men√∫ visible al p√∫blico.
     - Im√°genes de platos.
     - Informaci√≥n de contacto, horarios y ubicaci√≥n.
   - Estilo moderno con TailwindCSS.

9. **Reportes:**
   - Reporte de ventas (por d√≠a, mes, usuario).
   - Reporte de consumo de inventario.
   - Reporte de costos de producci√≥n y m√°rgenes.
   - Exportar reportes en PDF o Excel.

---

## ‚öôÔ∏è ETAPA 1 ‚Äî CONFIGURACI√ìN INICIAL DEL ENTORNO

Gu√≠ame para instalar y configurar **todo desde cero**, incluyendo:

1. PHP 8.3+  
2. Composer  
3. MySQL 8  
4. Node.js 20+  
5. NPM o PNPM  
6. Laravel 11  

Luego, crea el proyecto:
```bash
composer create-project laravel/laravel restaurante
cd restaurante
php artisan serve



‚öôÔ∏è ETAPA 2 ‚Äî AUTENTICACI√ìN Y ROLES

Instalar Laravel Breeze o Jetstream (recomienda cu√°l es mejor para este caso).

Crear roles base:

admin

mesera

cocina

Instalar y configurar Spatie Laravel Permission.

Crear pol√≠ticas (Policy) para proteger m√≥dulos seg√∫n el rol.

Implementar vistas de login y dashboard personalizado por rol.

‚öôÔ∏è ETAPA 3 ‚Äî INSTALACI√ìN DE FILAMENT Y LIVEWIRE

Instalar Filament 3.x:

composer require filament/filament:"^3.0"
php artisan make:filament-user


Crear panel para administraci√≥n (/admin).

Instalar Livewire 3:

composer require livewire/livewire


Instalar TailwindCSS:

npm install -D tailwindcss
npx tailwindcss init
npm run dev


Configurar componentes Livewire para:

Vista del mapa de mesas (interactiva con estados y colores).

Alertas autom√°ticas de inventario bajo.

Actualizaci√≥n en tiempo real (polling o eventos).

‚öôÔ∏è ETAPA 4 ‚Äî CONFIGURACI√ìN DE BASE DE DATOS (MySQL 8)

Gu√≠ame para importar y/o generar las migraciones basadas en la estructura definida:

users, roles

mesas, pedidos, detalle_pedidos

categorias, platos

ingredientes, movimientos_inventario

recetas, detalle_recetas

pagos, ventas, costos_platos, configuraciones

Incluye:

√çndices, claves for√°neas y relaciones.

Campos created_at, updated_at, deleted_at.

‚öôÔ∏è ETAPA 5 ‚Äî L√ìGICA DE INVENTARIO Y ALERTAS

Gu√≠ame para implementar el descuento autom√°tico de inventario y alertas:

Al cerrar o pagar un pedido:

Buscar los platos en detalle_pedidos.

Obtener su receta y descontar ingredientes del inventario.

Registrar movimiento en movimientos_inventario.

Crear una tarea programada (Scheduler o Command) que:

Revise diariamente los ingredientes.

Si stock_actual <= stock_minimo, genere una alerta.

Registrar alerta en base de datos y notificar al administrador.

Mostrar alertas en el panel Filament:

Banner rojo o tarjeta con ‚Äú‚ö†Ô∏è Ingrediente con poco stock‚Äù.

Posibilidad de ver detalle y reponer manualmente.

Opci√≥n adicional (posterior):

Enviar alertas por correo o Telegram.

‚öôÔ∏è ETAPA 6 ‚Äî PANEL ADMINISTRATIVO FILAMENT

Crear Resources en Filament para:

PlatosResource

IngredientesResource

RecetasResource

PedidosResource

UsuariosResource

MesasResource

ReportesDashboard

Configurar relaciones:

Platos ‚Üí Recetas ‚Üí Ingredientes.

Pedidos ‚Üí Detalles ‚Üí Platos.

A√±adir formularios con validaciones.

Incluir gr√°ficos (con Filament Charts) para:

Ventas por d√≠a/mes.

Stock cr√≠tico.

Costos y m√°rgenes.

‚öôÔ∏è ETAPA 7 ‚Äî LANDING PAGE (P√öBLICA)

Crear vistas Blade para:

/ (inicio)

/menu

/contacto

Mostrar los platos disponibles (desde platos activos).

Usar TailwindCSS para estilo limpio y moderno.

Opcional: permitir reservas o pedidos en l√≠nea (fase futura).

‚öôÔ∏è ETAPA 8 ‚Äî REPORTES Y COSTOS

Crear reportes de:

Ventas diarias / mensuales.

Ingredientes m√°s consumidos.

Platos m√°s vendidos.

Costo de producci√≥n vs precio de venta.

Permitir exportar a PDF o Excel.

Crear c√°lculo autom√°tico de margen de utilidad.

‚öôÔ∏è ETAPA 9 ‚Äî SEGURIDAD Y DESPLIEGUE

Configurar .env seguro.

A√±adir HTTPS, CSRF y protecci√≥n de sesiones.

Configurar backups autom√°ticos de la base de datos.

Preparar para producci√≥n:

php artisan config:cache
php artisan route:cache
php artisan optimize


Gu√≠ame para desplegar en un VPS (DigitalOcean, AWS, Hostinger, etc.).
